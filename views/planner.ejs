<%- include("partials/header.ejs")  %>
<%- include("partials/navbar.ejs")  %>

<form id="planner" action="/planner" method="POST">
    <div id="calculator">
        <h2>Budget Calculator</h2>
        <br>
        <label for="income">Enter Your Monthly Income:</label>
        <input type="number" id="income" name="income" placeholder="e.g., 50000" required>
        <br>
        <label for="needsRatio">Needs (%):</label>
        <input type="number" id="needsRatio" name="needsRatio" min="0" max="100" required>
<br>
        <label for="wantsRatio">Wants (%):</label>
        <input type="number" id="wantsRatio" name="wantsRatio" min="0" max="100" required>
<br>
        <label for="savingsRatio">Savings (%):</label>
        <input type="number" id="savingsRatio" name="savingsRatio" min="0" max="100" required>

        <br>
        <button type="submit" onclick="checkValidity">Calculate</button>
        <br>

        <p><strong>Needs:</strong> ₹<span id="needs"><%= needs || 0 %></span></p>
        <p><strong>Wants:</strong> ₹<span id="wants"><%= wants || 0 %></span></p>
        <p><strong>Savings:</strong> ₹<span id="savings"><%= savings || 0 %></span></p>
    </div>
    
    <div class="plan-img">
        <canvas id="budgetChart"></canvas>
    </div>
</form>

<!-- Include Chart.js first, then script -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/chartScript.js"></script>

<%- include("partials/footer.ejs")  %>