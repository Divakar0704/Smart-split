<%- include("partials/header.ejs")  %>
<%- include("partials/navbar.ejs")  %>

<form id="planner" action="/planner" method="POST">
    <div id="calculator">
        <h2>Budget Calculator</h2>
        <br>
        <label for="income">Enter Your Monthly Income:</label>
        <input type="number" id="income" name="income" value="<%= income || '' %>" placeholder="e.g., 50000" required autocomplete="income">
        <br>
        <label for="needsRatio">Needs (%):</label>
        <input type="number" id="needsRatio" name="needsRatio" value="<%= needsRatio || '' %>" min="0" max="100" required autocomplete="off">
<br>
        <label for="wantsRatio">Wants (%):</label>
        <input type="number" id="wantsRatio" name="wantsRatio" min="0" value="<%= wantsRatio || '' %>" max="100" required autocomplete="off">
<br>
        <label for="savingsRatio">Savings (%):</label>
        <input type="number" id="savingsRatio" name="savingsRatio" value="<%= savingsRatio || '' %>" min="0" max="100" required autocomplete="off">

        <br>
        <button type="submit">Calculate</button>
        <br>

        <p><li><strong>Needs:</strong> ₹<span name="savings" id="needs"><%= needs || 0 %></span></li></p>
        <p><li><strong>Wants:</strong> ₹<span name="wants" id="wants"><%= wants || 0 %></span></li></p>
        <p><li><strong>Savings:</strong> ₹<span name="savings" id="savings"><%= savings || 0 %></span></li></p>
    </div>
    
    <div class="plan-img">
        <canvas id="budgetChart"></canvas>
    </div>
</form>

<!-- Include Chart.js first, then script -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/chartScript.js"></script>

<%- include("partials/footer.ejs")  %>